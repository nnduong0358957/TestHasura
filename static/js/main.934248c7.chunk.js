(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{25:function(t,n,e){},26:function(t,n,e){},27:function(t,n,e){},33:function(t,n,e){},40:function(t,n,e){"use strict";e.r(n);var a=e(0),r=e(9),c=e.n(r),s=(e(25),e(26),e(20)),o=(e(27),e(6)),u=e(16),i=e(3),d=e.n(i),l=e(4),p="http://localhost:4000/v1/graphql",f=function(){var t=Object(l.a)(d.a.mark((function t(n){var e,a,r=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:{},t.next=3,fetch(p,{method:"POST",body:JSON.stringify({query:n,variables:e})});case 3:return a=t.sent,t.next=6,a.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=(e(33),e(17)),b=e(18),O=e(2);var v=function(t){var n=t.item,e=t.onClick,a=t.handleDeleteTask;return Object(O.jsxs)("div",{className:"item ".concat(n.status?"done":""),onClick:function(){return e(n)},children:[Object(O.jsx)("div",{className:"itemContent",children:n.name}),Object(O.jsx)(j.a,{className:"deleteBtn",icon:b.a,color:"red",onClick:function(t){return a(t,n.id)}})]})};var h=function(){var t=Object(o.c)((function(t){return t.todoList})),n=Object(o.b)(),e=Object(a.useState)(""),r=Object(s.a)(e,2),c=r[0],i=r[1],p=Object(a.useCallback)((function(){n(function(){var t=Object(l.a)(d.a.mark((function t(n){var e,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,f("\n      query MyQuery {\n        todos(order_by: {created_at: asc}) {\n          id\n          name\n          status\n          userId\n          created_at\n          updated_at\n        }\n      }\n    ");case 3:e=t.sent,a=e.errors,r=e.data,a?console.log(a):n({type:"UPDATE_TODOLIST",payload:r.todos});case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}),[n]);Object(a.useEffect)((function(){p()}),[p]);var j=function(e){var a,r,c,s=t.find((function(t){return t.id===e.id}));n((a=s.id,r=!s.status,c=t,function(){var t=Object(l.a)(d.a.mark((function t(n){var e,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:a,status:r},t.next=4,f('\n      mutation MyMutation($id: uuid = "", $status: Boolean = false) {\n        update_todos_by_pk(pk_columns: {id: $id}, _set: {status: $status}) {\n          id\n          name\n          status\n          userId\n          created_at\n          updated_at\n        }\n      }\n    ',e);case 4:s=t.sent,(o=s.errors)?console.log(o):(i=c.map((function(t){return t.id===a?Object(u.a)(Object(u.a)({},t),{},{status:!t.status}):t})),n({type:"UPDATE_TODOLIST",payload:i}));case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()))},b=function(){var t,e;i(""),n((t=c,e="0c5d5099-f7b5-47ed-b930-4a8d054c2d79",function(){var n=Object(l.a)(d.a.mark((function n(a){var r,c,s,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,userId:e},n.next=4,f('\n      mutation MyMutation($name: String = "", $userId: uuid = "") {\n        insert_todos_one(object: {name: $name, userId: $userId}) {\n          id\n          name\n          status\n          userId\n          created_at\n          updated_at\n        }\n      }\n    ',r);case 4:c=n.sent,s=c.errors,o=c.data,s?console.log(s):a({type:"INSERT_TODOLIST",payload:o.insert_todos_one});case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()))},h=function(e,a){e.stopPropagation(),n(function(t,n){return function(){var e=Object(l.a)(d.a.mark((function e(a){var r,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t},e.next=4,f('\n      mutation MyMutation($id: uuid = "") {\n        delete_todos_by_pk(id: $id) {\n          id\n          name\n          status\n          userId\n          created_at\n          updated_at\n        }\n      }\n    ',r);case 4:c=e.sent,(s=c.errors)?console.log(s):(o=n,n.forEach((function(n,e){n.id===t&&o.splice(e,1)})),a({type:"UPDATE_TODOLIST",payload:o}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(a,t))};return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"title",children:"TO DO"}),t.map((function(t){return Object(O.jsx)(v,{item:t,onClick:j,handleDeleteTask:h},t.id)})),Object(O.jsx)("hr",{className:"horizontal_divider"}),Object(O.jsxs)("div",{className:"addTask",children:[Object(O.jsx)("input",{className:"addInput",type:"text",placeholder:"+ New task",value:c,onChange:function(t){return i(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&b()}}),Object(O.jsx)("button",{className:"addBtn",onClick:b,children:"Add"})]})]})})};var m=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(h,{})})},y=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,41)).then((function(n){var e=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,s=n.getTTFB;e(t),a(t),r(t),c(t),s(t)}))},_=e(7),x=e(19),T=e(15),k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_TODOLIST":return Object(T.a)(n.payload);case"INSERT_TODOLIST":return[].concat(Object(T.a)(t),[n.payload]);default:return t}},g=Object(_.b)({todoList:k}),I=Object(_.c)(g,Object(_.a)(x.a));c.a.render(Object(O.jsx)(o.a,{store:I,children:Object(O.jsx)(m,{})}),document.getElementById("root")),y()}},[[40,1,2]]]);
//# sourceMappingURL=main.934248c7.chunk.js.map